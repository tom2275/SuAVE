PivotViewer.Models.Loaders.LocalCSVLoader=PivotViewer.Models.Loaders.CSVLoader.subClass({init:function(e){this.CSVFile=e,this.project="",this.data=[]},LoadCollection:function(e){var o=this,i=new FileReader;i.onload=function(){if(o.data=i.result.csvToArray(),o.data.length<=1){$(".pv-loading").remove();return $(".pv-wrapper").append('<div id="pv-empty-collection-error" class="pv-modal-dialog"><div><a href="#pv-modal-dialog-close" title="Close" class="pv-modal-dialog-close">X</a><h2>HTML5 PivotViewer</h2><p>There are no items in the CSV Collection<br><br></p></div></div>'),void setTimeout(function(){window.open("#pv-empty-collection-error","_self")},1e3)}$.subscribe("/PivotViewer/Authoring/Completed",function(){e.CollectionName=o.project,e.CollectionBase="projects/",e.ImageBase=o.project+"/"+o.project+".dzc",e.BrandImage="",window.open("#pv-modal-dialog-close","_self"),o.LoadData(e,o.data)}),authoring_cards(o)},i.readAsText(this.CSVFile)}});