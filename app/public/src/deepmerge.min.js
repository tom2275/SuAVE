!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):r.deepmerge=e()}(this,function(){"use strict";function r(r){return!!r&&"object"==typeof r}function e(r){var e=Object.prototype.toString.call(r);return"[object RegExp]"!==e&&"[object Date]"!==e}function t(r){return Array.isArray(r)?[]:{}}function n(r,e){return e&&!0===e.clone&&c(r)?i(t(r),r,e):r}function o(r,e,t){var o=r.slice();return e.forEach(function(e,u){void 0===o[u]?o[u]=n(e,t):c(e)?o[u]=i(r[u],e,t):-1===r.indexOf(e)&&o.push(n(e,t))}),o}function u(r,e,t){var o={};return c(r)&&Object.keys(r).forEach(function(e){o[e]=n(r[e],t)}),Object.keys(e).forEach(function(u){c(e[u])&&r[u]?o[u]=i(r[u],e[u],t):o[u]=n(e[u],t)}),o}function i(r,e,t){var i=Array.isArray(e),c=(t||{arrayMerge:o}).arrayMerge||o;return i?Array.isArray(r)?c(r,e,t):n(e,t):u(r,e,t)}var c=function(t){return r(t)&&e(t)};return i.all=function(r,e){if(!Array.isArray(r)||r.length<2)throw new Error("first argument should be an array with at least two elements");return r.reduce(function(r,t){return i(r,t,e)})},i});