PivotViewer.Models.Collection=Object.subClass({init:function(){this.name="",this.brandImage="",this.categories=[],this.items=[],this.base="",this.baseNoProxy="",this.imageBase="",this.copyrightName="",this.copyrightHref="",this.maxRelatedLinks=0,this._categoriesByName=[],this._itemsById=[];var t=this,i=0,e=0;this.categories.push=function(s){s.index=i++,s.visIndex=s.isFilterVisible?e++:-1,this.__proto__.push.apply(t.categories,[s]),t._categoriesByName[s.name]=s,t._categoriesByName[s.name.toLowerCase()]=s},this.items.push=function(i){this.__proto__.push.apply(t.items,[i]),t._itemsById[i.id]=i}},getItemById:function(t){var i=this._itemsById[t];return void 0==i?null:i},getCategoryByName:function(t){var i=this._categoriesByName[t];return void 0==i?null:i}}),PivotViewer.Models.Category=Object.subClass({init:function(t,i,e){this.name=t,this.type=null!=i&&void 0!=i?i:PivotViewer.Models.FacetType.String,this.isFilterVisible=null==e||void 0==e||e,this.recount=!0,this.uiInit=!1,this.doFilter=!0,this.datetimeBuckets=[],this.customSort=null,this.labels=[],this.isMultipleItems=!1},getValueLabel:function(t){if(this.type==PivotViewer.Models.FacetType.Ordinal){var i=this.labels[t];return void 0==i?t:i}return t},isString:function(){return this.type==PivotViewer.Models.FacetType.String},isLongString:function(){return this.type==PivotViewer.Models.FacetType.LongString},isNumber:function(){return this.type==PivotViewer.Models.FacetType.Number},isOrdinal:function(){return this.type==PivotViewer.Models.FacetType.Ordinal},isDateTime:function(){return this.type==PivotViewer.Models.FacetType.DateTime},isLink:function(){return this.type==PivotViewer.Models.FacetType.Link},isLocation:function(){return this.type==PivotViewer.Models.FacetType.Location}}),PivotViewer.Models.CategorySort=Object.subClass({init:function(t){this.name=t,this.sortValues=[]}}),PivotViewer.Models.Item=Object.subClass({init:function(t,i,e,s){this.description=null,this.img=t,this.id=i,this.href=e,this.name=s,this.facets=[],this._facetByName=[],this.links=[];var n=this;this.facets.push=function(t){this.__proto__.push.apply(n.facets,[t]),n._facetByName[t.name]=t}},getFacetByName:function(t){return this._facetByName[t]}}),PivotViewer.Models.ItemLink=Object.subClass({init:function(t,i){this.name=t,this.href=i}}),PivotViewer.Models.Facet=Object.subClass({init:function(t,i){this.name=t,this.values=void 0===i?[]:i},addValue:function(t){this.values.push(t)}}),PivotViewer.Models.FacetValue=Object.subClass({init:function(t,i){this.value=t,this.label=void 0==i?t:i,this.href=""}}),PivotViewer.Models.Bucket=Object.subClass({init:function(t,i,e,s){this.startRange=t,this.startLabel=i,this.endRange=e||t,this.endLabel=s||i,this.ids=[],this.values=[],this.tiles=[]},addTile:function(t){this.tiles.push(t),this.ids[t.item.id]=!0},addValue:function(t){this.values.push(t)},getLabel:function(){return this.startLabel==this.endLabel?this.startLabel:this.startLabel+" - "+this.endLabel},equals:function(t){return null!=t&&0!=this.tiles.length&&this.tiles.length==t.tiles.length&&this.tiles[0].item.id==t.tiles[0].item.id&&this.tiles[this.tiles.length-1].item.id==t.tiles[t.tiles.length-1].item.id},hasValue:function(t){return _.contains(this.values,t)}}),PivotViewer.Models.DateTimeInfo=Object.subClass({init:function(t,i,e){this.name=t,this.start=i,this.end=e,this.items=[]}}),PivotViewer.Models.FacetType={String:"String",LongString:"LongString",Number:"Number",DateTime:"DateTime",Link:"Link",Ordinal:"Ordinal",Location:"Location",Description:"Description"};